{"version":3,"file":"ej2-vue-base.min.js","sources":["../../src/component-base.js","../../src/template.js"],"sourcesContent":["/**\n * Vue Component Base\n */\nimport * as Vue from 'vue';\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) {\n    return obj;\n}\nelse {\n    var newObj = {};\n    if (obj != null) {\n        for (var key in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, key))\n                newObj[\"\" + key] = obj[\"\" + key];\n        }\n    }\n    newObj.default = obj;\n    return newObj;\n} }\nvar curVue = _interopRequireWildcard(Vue);\nexport var isExecute = (parseInt(curVue['version']) > 2) ? false : true, aVue = !isExecute ? curVue : (curVue['default']['default'] ? curVue['default']['default'] : curVue['default']), gh = curVue['h'];\nexport var vueDefineComponent = function (options) { return !isExecute ? aVue['defineComponent'](options) : aVue['extend'](options); };\nexport var ComponentBase = vueDefineComponent({\n    name: 'ComponentBase',\n    data: function () {\n        return {\n            tagMapper: {},\n            tagNameMapper: {},\n            hasInjectedModules: false,\n            hasChildDirective: false,\n            childDirObjects: '',\n            propKeys: {},\n            isDecorator: false\n        };\n    },\n    created: function () {\n        var _this = this;\n        if (this.ej2Instance) {\n            this.ej2Instances = this.isVue3 ? aVue.toRaw(this.ej2Instance) : this.ej2Instance;\n        }\n        if (!this.propKeys) {\n            return;\n        }\n        var _loop_1 = function (prop) {\n            this_1.ej2Instances.addEventListener(prop, function (args) {\n                _this.$emit(prop, args);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n        var injectables = getValue('$root.$options.provide', this);\n        var vueInjectables = getValue('$parent.$options.provide', this);\n        vueInjectables = !isNullOrUndefined(vueInjectables) ? vueInjectables : getValue('$.parent.provides', this);\n        if (this.hasInjectedModules && !isExecute) {\n            var prevModule = [];\n            if (injectables && injectables.managed) {\n                this.isDecorator = true;\n                prevModule = this.getInjectedServices() || [];\n            }\n            else if (injectables) {\n                prevModule = injectables[this.ej2Instances.getModuleName()] || [];\n            }\n            else if (vueInjectables) {\n                prevModule = this.getInjectedServices() || [];\n            }\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_1 = curModule; _b < curModule_1.length; _b++) {\n                var mod = curModule_1[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n    },\n    mounted: function () {\n        var cusEle = this.$el ? this.$el.querySelectorAll(\"div.e-directive\") : null;\n        if (!isExecute && cusEle) {\n            for (var i = 0; i < cusEle.length; i++) {\n                cusEle[parseInt(i.toString(), 10)].parentElement && cusEle[parseInt(i.toString(), 10)].parentElement.removeChild(cusEle[parseInt(i.toString(), 10)]);\n            }\n        }\n        this.ej2Instances.isVue = true;\n        this.ej2Instances.isVue3 = this.isVue3;\n        this.ej2Instances.vueInstance = this;\n        if (this.isVue3) {\n            this.ej2Instances.ej2Instances = this.ej2Instances;\n            this.ej2Instances.referModels = this.models;\n            this.setModelValue();\n        }\n        this.ej2Instances.appendTo(this.$el);\n    },\n    updated: function () {\n        this.updated();\n    },\n    beforeDestroy: function () {\n        this.destroyComponent();\n    },\n    beforeUnmount: function () {\n        this.destroyComponent();\n    },\n    methods: {\n        setModelValue: function () {\n            if (!isNullOrUndefined(this.modelValue) || !isNullOrUndefined(this.$attrs.modelValue)) {\n                var key = this.models.toString().match(/checked|value/) || [];\n                var propKey = key[0];\n                if (!isNullOrUndefined(propKey)) {\n                    this.ej2Instances[\"\" + propKey] = !isNullOrUndefined(this.modelValue) ? this.modelValue : this.$attrs.modelValue;\n                }\n            }\n        },\n        updated: function () {\n            if (this.isVue3) {\n                this.setModelValue();\n            }\n            if (this.hasChildDirective) {\n                var childKey = {};\n                this.fetchChildPropValues(childKey);\n                var curChildDir = JSON.stringify(childKey);\n                if (this.childDirObjects !== curChildDir) {\n                    this.childDirObjects = curChildDir;\n                    this.assignValueToWrapper(childKey, false);\n                }\n            }\n        },\n        getInjectedServices: function () {\n            var ret = [];\n            var provide;\n            if (this.$root && this.isDecorator) {\n                provide = getValue('$root.$options.provide', this);\n            }\n            else if (this.$vnode) {\n                provide = getValue('$vnode.context.$options.provide', this);\n            }\n            else if (this.$parent) {\n                provide = getValue('$parent.$options.provide', this);\n            }\n            if (isNullOrUndefined(provide) && !isNullOrUndefined(this.$)) {\n                provide = getValue('$.parent.provides', this);\n            }\n            if (provide) {\n                // tslint:disable:no-any\n                var injectables = provide;\n                if (typeof provide === 'function') {\n                    if (provide.managed) {\n                        var provideKey = provide.managed;\n                        var provideValue = Object.keys(provideKey);\n                        var key = void 0;\n                        if (this.$root && this.isDecorator) {\n                            key = Object.keys(this.$root);\n                        }\n                        else if (this.$vnode) {\n                            key = Object.keys(this.$vnode.context);\n                        }\n                        else if (this.$parent) {\n                            key = Object.keys(this.$parent);\n                        }\n                        for (var i = 0; i < provideValue.length; i++) {\n                            for (var j = 0; j < key.length; j++) {\n                                if ((key[parseInt(j.toString(), 10)].indexOf(provideValue[parseInt(i.toString(), 10)])) !== -1) {\n                                    if (this.$root && this.isDecorator) {\n                                        provideKey[provideValue[parseInt(j.toString(), 10)]] = this.$root[key[parseInt(i.toString(), 10)]];\n                                    }\n                                    else if (this.$vnode) {\n                                        provideKey[provideValue[parseInt(i.toString(), 10)]] = this.$vnode.context[key[parseInt(j.toString(), 10)]];\n                                    }\n                                    else if (this.$parent) {\n                                        provideKey[provideValue[parseInt(i.toString(), 10)]] = this.$parent[key[parseInt(j.toString(), 10)]];\n                                    }\n                                    injectables = provideKey;\n                                }\n                            }\n                        }\n                    }\n                    // tslint:disable:no-any\n                    else if (this.$vnode) {\n                        injectables = this.$vnode.context.$options.provide();\n                    }\n                    else if (this.$parent) {\n                        injectables = this.$parent.$options.provide();\n                    }\n                }\n                ret = injectables[this.ej2Instances.getModuleName()] || [];\n            }\n            this.isDecorator = false;\n            return ret;\n        },\n        destroyComponent: function () {\n            var tempBeforeDestroyThis = this;\n            tempBeforeDestroyThis.ej2Instances.destroy();\n            tempBeforeDestroyThis.$el.style.visibility = 'hidden';\n            tempBeforeDestroyThis = null;\n        },\n        bindProperties: function () {\n            var options = {};\n            for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n                var prop = _a[_i];\n                if (!isNullOrUndefined(this[\"\" + prop])) {\n                    options[\"\" + prop] = this[\"\" + prop];\n                }\n                else if (this[0] && !isNullOrUndefined(this[0][0]) && !isNullOrUndefined(this[0][0][\"\" + prop])) {\n                    options[\"\" + prop] = this[0][0][\"\" + prop];\n                }\n            }\n            if (this.hasChildDirective) {\n                this.fetchChildPropValues(options);\n            }\n            if (this.hasInjectedModules) {\n                var prevModule = this.getInjectedServices() || [];\n                var curModule = this.ej2Instances.getInjectedModules() || [];\n                for (var _b = 0, curModule_2 = curModule; _b < curModule_2.length; _b++) {\n                    var mod = curModule_2[_b];\n                    if (prevModule.indexOf(mod) === -1) {\n                        prevModule.push(mod);\n                    }\n                }\n                this.ej2Instances.injectedModules = prevModule;\n            }\n            this.assignValueToWrapper(options);\n        },\n        assignValueToWrapper: function (option, silent) {\n            this.ej2Instances.setProperties(extend({}, {}, option, true), isNullOrUndefined(silent) ? true : silent);\n        },\n        fetchChildPropValues: function (childOption) {\n            var dirProps = {};\n            if (!this.isVue3) {\n                dirProps = this.getDirectiveValues(this.$slots.default, this.tagMapper || {}, this.tagNameMapper || {});\n            }\n            else {\n                var propRef = void 0;\n                if (this[0] && this[0][1].slots.default) {\n                    propRef = this[0][1].slots.default();\n                }\n                else if (this && this.$ && this.$.slots && this.$.slots.default) {\n                    propRef = this.$.slots.default();\n                }\n                if (propRef) {\n                    for (var i = 0; i < propRef.length; i++) {\n                        if (propRef[parseInt(i.toString(), 10)].type.methods || propRef[parseInt(i.toString(), 10)].type === 'e-seriescollection') {\n                            var key = propRef[parseInt(i.toString(), 10)].type === 'e-seriescollection' ? 'series-collection' :\n                                propRef[parseInt(i.toString(), 10)].type.methods.getTag().replace(\"e-\", \"\");\n                            var ref = this.resolveArrayDirectives(propRef[parseInt(i.toString(), 10)].children, key);\n                            var splitKeys = key.split('-');\n                            var controlName = this.ej2Instances.getModuleName().toLowerCase();\n                            var keyRef = (splitKeys.length > 1 && controlName.indexOf(splitKeys[0]) > -1) ? splitKeys[1] : splitKeys[0];\n                            keyRef = keyRef.replace(controlName, '');\n                            if (controlName == \"splitter\" && keyRef == \"panes\") {\n                                keyRef = \"paneSettings\";\n                            }\n                            else if (controlName == \"bulletchart\" && keyRef == \"range\") {\n                                keyRef = \"ranges\";\n                            }\n                            else if (controlName == \"schedule\" && keyRef == \"header\") {\n                                keyRef = \"headerRows\";\n                            }\n                            dirProps[\"\" + keyRef] = ref[\"\" + key];\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n            if (!this.childDirObjects) {\n                this.childDirObjects = JSON.stringify(dirProps);\n            }\n            for (var _i = 0, _a = Object.keys(dirProps); _i < _a.length; _i++) {\n                var dirProp = _a[_i];\n                childOption[\"\" + dirProp] = dirProps[\"\" + dirProp];\n            }\n        },\n        resolveArrayDirectives: function (slots, tagName) {\n            var slot = [];\n            var innerDirValues;\n            slot = slots.default ? slots.default() : slots;\n            slot = slot.flatMap(function (item) { return Array.isArray(item.children) ? item.children : item; });\n            var items = {};\n            items[\"\" + tagName] = [];\n            var _loop_2 = function (childSlot) {\n                var tempObj = {};\n                var tagRef = childSlot.type.methods ? childSlot.type.methods.getTag() : tagName;\n                if (childSlot.children) {\n                    var key = void 0;\n                    innerDirValues = this_2.resolveComplexDirs(childSlot.children, this_2.tagMapper[\"e-\" + tagName], tagRef);\n                    if (innerDirValues.length) {\n                        tempObj = innerDirValues;\n                    }\n                    else {\n                        for (var i = 0; i < Object.keys(innerDirValues).length; i++) {\n                            key = Object.keys(innerDirValues)[parseInt(i.toString(), 10)];\n                            tempObj[\"\" + key] = innerDirValues[\"\" + key];\n                        }\n                    }\n                }\n                if (childSlot.props) {\n                    Object.keys(childSlot.props).forEach(function (key) {\n                        var propName = key.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); });\n                        if (propName) {\n                            tempObj[\"\" + propName] = childSlot.props[\"\" + key];\n                        }\n                    });\n                }\n                if (((/[s]\\b/).test(tagRef) && innerDirValues) && (!(/[s]\\b/).test(tagName) || innerDirValues.length)) {\n                    Array.isArray(tempObj) ? tempObj.forEach(function (item) { items[\"\" + tagName].push(item); }) : items[\"\" + tagName].push(tempObj);\n                }\n                else if (tempObj && Object.keys(tempObj).length !== 0) {\n                    items[\"\" + tagName].push(tempObj);\n                }\n            };\n            var this_2 = this;\n            for (var _i = 0, slot_1 = slot; _i < slot_1.length; _i++) {\n                var childSlot = slot_1[_i];\n                _loop_2(childSlot);\n            }\n            return items;\n        },\n        resolveComplexDirs: function (slots, tagObject, tagName) {\n            var slot = [];\n            var innerDirValues;\n            slot = slots.default ? slots.default() : slots;\n            var items = {};\n            var _loop_3 = function (childSlot) {\n                var tagRef = void 0;\n                var tag = void 0;\n                if (tagObject[\"\" + tagName]) {\n                    tagRef = Object.keys(tagObject[\"\" + tagName]);\n                    tag = tagRef.find(function (key) {\n                        return tagObject[\"\" + tagName][\"\" + key] ===\n                            childSlot.type.methods.getTag().replace(/[s]\\b/, \"\");\n                    });\n                    var moduleName = this_3.ej2Instances.getModuleName().toLowerCase();\n                    tag = tag\n                        ? tag.replace(\"e-\", \"\")\n                        : childSlot.type.methods.getTag().replace(moduleName === \"ribbon\" ? \"e-ribbon-\" : \"e-\", \"\");\n                    if (this_3.ej2Instances.getModuleName().toLowerCase() == \"diagram\" && tag.indexOf('annotations') != -1) {\n                        tag = 'annotations';\n                    }\n                }\n                if (childSlot.children) {\n                    innerDirValues = this_3.resolveComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                    if (!items[\"\" + tag]) {\n                        items[\"\" + tag] = [];\n                    }\n                    if (innerDirValues.length > 1) {\n                        items[\"\" + tag] = innerDirValues;\n                    }\n                    else {\n                        items[\"\" + tag].push(innerDirValues);\n                    }\n                }\n                if (childSlot.props) {\n                    childSlot.props = this_3.getCamelCaseProps(childSlot.props);\n                }\n                if (slot.length > 1) {\n                    items = Object.keys(items).length == 0 && !items.length ? [] : items;\n                    if (childSlot.props) {\n                        items.push(childSlot.props);\n                    }\n                }\n                else {\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            };\n            var this_3 = this;\n            for (var _i = 0, slot_2 = slot; _i < slot_2.length; _i++) {\n                var childSlot = slot_2[_i];\n                _loop_3(childSlot);\n            }\n            return items;\n        },\n        resolveComplexInnerDirs: function (slots, tagObject, tagName) {\n            var slot = [];\n            var innerDirValues;\n            slot = slots.default ? slots.default() : slots;\n            var items = slot.length > 1 ? [] : {};\n            for (var _i = 0, slot_3 = slot; _i < slot_3.length; _i++) {\n                var childSlot = slot_3[_i];\n                var isRibbon = (this.ej2Instances.getModuleName().toLowerCase() == \"ribbon\");\n                var tag = childSlot.type.methods.getTag().replace(isRibbon ? \"e-ribbon-\" : \"e-\", \"\");\n                if (childSlot.children) {\n                    innerDirValues = this.resolveMultilevelComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                    if ((/[s]\\b/).test(tag) || slot.length > 1) {\n                        if ((/[s]\\b/).test(tag)) {\n                            items[\"\" + tag] = !items[\"\" + tag] ? [] : items[\"\" + tag];\n                            if (innerDirValues.length) {\n                                items[\"\" + tag] = innerDirValues;\n                            }\n                            else {\n                                items[\"\" + tag].push(innerDirValues);\n                            }\n                        }\n                        else if (innerDirValues && !(isRibbon && innerDirValues.hasOwnProperty('collections'))) {\n                            items.push(innerDirValues);\n                        }\n                    }\n                    else {\n                        items = innerDirValues ? innerDirValues : items;\n                    }\n                }\n                if (childSlot.props) {\n                    childSlot.props = this.getCamelCaseProps(childSlot.props);\n                }\n                if (slot.length > 1 && childSlot.props) {\n                    if (isRibbon && innerDirValues && innerDirValues.hasOwnProperty('collections')) {\n                        innerDirValues = childSlot.props ? Object.assign(innerDirValues, childSlot.props) : innerDirValues;\n                        items.push(innerDirValues);\n                    }\n                    else if (items.length >= 0) {\n                        items.push(childSlot.props);\n                    }\n                    else {\n                        items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                    }\n                }\n                else {\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            }\n            return items;\n        },\n        resolveMultilevelComplexInnerDirs: function (slots, tagObject, tagName) {\n            var slot = [];\n            var innerDirValues;\n            slot = slots.default ? slots.default() : slots;\n            var items = slot.length > 1 ? [] : {};\n            for (var _i = 0, slot_4 = slot; _i < slot_4.length; _i++) {\n                var childSlot = slot_4[_i];\n                var moduleName = this.ej2Instances.getModuleName().toLowerCase();\n                var tag = childSlot.type.methods.getTag().replace(moduleName === \"ribbon\" ? \"e-ribbon-\" : \"e-\", \"\");\n                if (childSlot.children) {\n                    innerDirValues = this.resolveComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                }\n                if (childSlot.props) {\n                    childSlot.props = this.getCamelCaseProps(childSlot.props);\n                }\n                if ((/[s]\\b/).test(tag)) {\n                    items[\"\" + tag] = !items[\"\" + tag] ? [] : items[\"\" + tag];\n                    if (innerDirValues.length) {\n                        items[\"\" + tag] = innerDirValues;\n                    }\n                    else {\n                        items[\"\" + tag].push(innerDirValues);\n                    }\n                    if (childSlot.props) {\n                        items[\"\" + tag].push(childSlot.props);\n                    }\n                }\n                else {\n                    items = innerDirValues;\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            }\n            return items;\n        },\n        getDirectiveValues: function (tagDirectives, tagMapper, tagNameMapper) {\n            var keyTags = Object.keys(tagMapper);\n            var dir = {};\n            if (tagDirectives) {\n                for (var _i = 0, tagDirectives_1 = tagDirectives; _i < tagDirectives_1.length; _i++) {\n                    var tagDirective = tagDirectives_1[_i];\n                    if (tagDirective.componentOptions && tagDirective.componentOptions.children && tagDirective.componentOptions.tag ||\n                        (tagDirective.tag === 'e-seriescollection' && tagDirective.children)) {\n                        var dirTag = tagDirective.componentOptions ? tagDirective.componentOptions.tag : tagDirective.tag;\n                        dirTag = (dirTag === 'e-seriescollection') ? 'e-seriesCollection' : dirTag;\n                        if (keyTags.indexOf(dirTag) !== -1) {\n                            var tagName = tagNameMapper[\"\" + dirTag] ? tagNameMapper[\"\" + dirTag] : dirTag;\n                            dir[tagName.replace('e-', '')] = [];\n                            var children = tagDirective.componentOptions ? tagDirective.componentOptions.children : tagDirective.children;\n                            for (var _a = 0, children_1 = children; _a < children_1.length; _a++) {\n                                var tagDirChild = children_1[_a];\n                                var retObj = this.getVNodeValue(tagDirChild, tagMapper[\"\" + dirTag], tagNameMapper);\n                                if (Object.keys(retObj).length !== 0) {\n                                    dir[tagName.replace('e-', '')].push(retObj);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            return dir;\n        },\n        getMultiLevelDirValue: function (tagDirectories, tagKey, tagNameMapper) {\n            var mulObj = {};\n            for (var _i = 0, tagDirectories_1 = tagDirectories; _i < tagDirectories_1.length; _i++) {\n                var tagDir = tagDirectories_1[_i];\n                var key = void 0;\n                var children = void 0;\n                if (tagDir.componentOptions) {\n                    key = tagDir.componentOptions.tag;\n                    if (tagDir.componentOptions.children) {\n                        children = tagDir.componentOptions.children;\n                    }\n                }\n                else if ((tagDir.tag === 'e-markersettings' || tagDir.tag === 'e-markersetting') && tagDir.children) {\n                    key = (tagDir.tag === 'e-markersettings') ? 'e-markerSettings' : 'e-markerSetting';\n                    children = tagDir.children;\n                }\n                if (key) {\n                    var tagName = tagNameMapper[\"\" + key] ? tagNameMapper[\"\" + key] : key;\n                    mulObj[tagName.replace('e-', '')] = [];\n                    if (children) {\n                        for (var _a = 0, children_2 = children; _a < children_2.length; _a++) {\n                            var tagDirChild = children_2[_a];\n                            var mulLevObj = this.getVNodeValue(tagDirChild, tagKey[\"\" + key], tagNameMapper);\n                            if (Object.keys(mulLevObj).length !== 0) {\n                                mulObj[tagName.replace('e-', '')].push(mulLevObj);\n                            }\n                        }\n                    }\n                }\n            }\n            return mulObj;\n        },\n        getVNodeValue: function (tagDirective, tagKey, tagNameMapper) {\n            var ret = {};\n            if (tagDirective.componentOptions || ((tagDirective.tag === 'e-markersettings' || tagDirective.tag === 'e-markersetting') && tagDirective.context)) {\n                var dirTag = void 0;\n                if (tagDirective.componentOptions) {\n                    dirTag = tagDirective.componentOptions.tag;\n                }\n                else {\n                    dirTag = (tagDirective.tag === 'e-markersettings') ? 'e-markerSettings' : 'e-markerSetting';\n                }\n                if (typeof tagKey === 'string' && dirTag === tagKey && tagDirective.data) {\n                    ret = tagDirective.data.attrs ? this.getCamelCaseProps(tagDirective.data.attrs) : this.getCamelCaseProps(tagDirective.data);\n                }\n                else if (typeof tagKey === 'object') {\n                    if (tagDirective.componentOptions.children && (Object.keys(tagKey).indexOf(dirTag) !== -1)) {\n                        ret = this.getMultiLevelDirValue(tagDirective.componentOptions.children, tagKey[\"\" + dirTag], tagNameMapper);\n                    }\n                    else if (tagDirective.children && (Object.keys(tagKey).indexOf(dirTag) !== -1) && (dirTag === 'e-markersettings' || dirTag === 'e-markersetting')) {\n                        ret = this.getMultiLevelDirValue(tagDirective.children, tagKey[\"\" + dirTag], tagNameMapper);\n                    }\n                    if (tagDirective.data && tagDirective.data.attrs) {\n                        ret = extend(ret, this.getCamelCaseProps(tagDirective.data.attrs));\n                    }\n                }\n            }\n            return ret;\n        },\n        /**\n         * convert kebab case directive props to camel case\n         */\n        getCamelCaseProps: function (props) {\n            var retProps = {};\n            for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                retProps[prop.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); })] = props[\"\" + prop];\n            }\n            return retProps;\n        },\n        dataBind: function () {\n            this.ej2Instances.dataBind();\n        },\n        setProperties: function (arg, muteOnChange) {\n            return this.ej2Instances.setProperties(arg, muteOnChange);\n        },\n    }\n});\nexport function getProps(options) {\n    if (options === void 0) { options = {}; }\n    if (options.props) {\n        var _loop_4 = function (prop) {\n            (options.newprops || (options.newprops = {}))[\"\" + prop] = {};\n            (options.watch || (options.watch = {}))[\"\" + prop] = function (newVal) {\n                this.ej2Instances[\"\" + prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_4(prop);\n        }\n    }\n    return [options.newprops, options.watch];\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { setTemplateEngine, getTemplateEngine, getUniqueID, createElement, detach, extend, getValue } from \"@syncfusion/ej2-base\";\nimport { aVue as Vue, isExecute } from \"./component-base\";\n// tslint:disable:no-any\nvar stringCompiler = getTemplateEngine();\nexport function compile(templateElement, helper) {\n    var that = this;\n    return function (data, context, propName, element, root) {\n        var returnEle;\n        if (context) {\n            var plugins = context.vueInstance ? context.vueInstance.plugins : null;\n            var pid = getUniqueID(\"templateParentDiv\");\n            var id = getUniqueID(\"templateDiv\");\n            var ele = createElement(\"div\", {\n                id: pid,\n                innerHTML: '<div id=\"' + id + '\"></div>',\n            });\n            document.body.appendChild(ele);\n            if (!isExecute && (typeof templateElement === \"string\" || (templateElement.prototype && templateElement.prototype.CSPTemplate && typeof templateElement === 'function'))) {\n                var vueSlot_1 = getCurrentVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_1) {\n                    // Compilation for Vue 3 slot template\n                    var app = Vue.createVNode({\n                        render: function () {\n                            return vueSlot_1[\"\" + templateElement]({ data: data });\n                        }\n                    }, plugins);\n                    ele.innerHTML = '';\n                    // Get values for Vue 3 slot template\n                    getValues(app, context.vueInstance, root);\n                    Vue.render(app, ele);\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 3 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else if (!isExecute) {\n                // Compilation for Vue 3 functional template\n                var tempObj = templateElement.call(that, {});\n                var object = tempObj;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj_1 = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (!object.template) {\n                    object.template = object[Object.keys(object)[0]];\n                }\n                var templateCompRef = void 0;\n                if (object.template.extends) {\n                    templateCompRef = object.template.extends._context.components.template;\n                }\n                else {\n                    templateCompRef = object.template._context.components[templateElement.name];\n                    if (!templateCompRef) {\n                        var key = Object.keys(object.template._context.components)[0];\n                        templateCompRef = object.template._context.components[\"\" + key];\n                    }\n                }\n                var tempRef_1;\n                if (propsData) {\n                    if (templateCompRef.setup) {\n                        tempRef_1 = Object.assign(templateCompRef.setup(null, { expose: function () { } }), propsData);\n                    }\n                    else {\n                        tempRef_1 = Object.assign(templateCompRef.data(), propsData);\n                    }\n                }\n                else {\n                    if (templateCompRef.setup) {\n                        tempRef_1 = Object.assign(templateCompRef.setup(null, { expose: function () { } }), dataObj_1.data);\n                    }\n                    else {\n                        tempRef_1 = Object.assign(templateCompRef.data(), dataObj_1.data);\n                    }\n                    if (templateCompRef.components) {\n                        var objkeys = Object.keys(templateCompRef.components) || [];\n                        var _loop_1 = function (objstring) {\n                            var intComponent = templateCompRef.components[\"\" + objstring];\n                            if (intComponent && intComponent.data) {\n                                if (!intComponent.__data)\n                                    intComponent.__data = intComponent.data;\n                                intComponent.data = function (proxy) { return Object.assign(intComponent.__data.call(proxy), dataObj_1.data); };\n                            }\n                        };\n                        for (var _i = 0, objkeys_1 = objkeys; _i < objkeys_1.length; _i++) {\n                            var objstring = objkeys_1[_i];\n                            _loop_1(objstring);\n                        }\n                    }\n                }\n                if (templateCompRef.setup) {\n                    templateCompRef.setup = function (__props, _a) {\n                        var __expose = _a.expose;\n                        __expose();\n                        var __returned__ = tempRef_1;\n                        Object.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true });\n                        return __returned__;\n                    };\n                }\n                templateCompRef.data = function () { return tempRef_1; };\n                var app = Vue.createVNode(templateCompRef, plugins);\n                ele.innerHTML = '';\n                // Get values for Vue 3 functional template\n                getValues(app, context.vueInstance, root);\n                Vue.render(app, ele);\n                returnEle = ele.childNodes;\n                detach(ele);\n            }\n            else if (typeof templateElement === \"string\" || (templateElement.prototype && templateElement.prototype.CSPTemplate && typeof templateElement === 'function')) {\n                var vueSlot_2 = getVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_2) {\n                    // Get provide values for Vue 2 slot template\n                    var provided_1 = {};\n                    var getProvideValues_1 = function (vueinstance) {\n                        if (vueinstance['$parent'])\n                            getProvideValues_1(vueinstance.$parent);\n                        if (vueinstance['_provided'] && Object.keys(vueinstance['_provided']).length > 0) {\n                            provided_1 = __assign({}, provided_1, vueinstance._provided);\n                        }\n                    };\n                    var vueInstance = context.vueInstance ? context.vueInstance : ((root && root.vueInstance) ? root.vueInstance : null);\n                    if (vueInstance) {\n                        getProvideValues_1(vueInstance);\n                    }\n                    // Compilation for Vue 2 slot template\n                    var vueTemplate = new Vue({\n                        provide: __assign({}, provided_1),\n                        render: function () {\n                            return vueSlot_2[\"\" + templateElement]({ data: data });\n                        }\n                    });\n                    vueTemplate.$mount(\"#\" + id);\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 2 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else {\n                // Compilation for Vue 2 functional template\n                var tempObj = templateElement.call(that, {});\n                var templateFunction = tempObj.template;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (propsData) {\n                    templateFunction = tempObj.template.extends;\n                    dataObj.propsData = propsData;\n                }\n                if (typeof templateFunction !== \"function\") {\n                    templateFunction = Vue.extend(templateFunction);\n                }\n                if (templateFunction.options.setup) {\n                    var variables = Object.assign(templateFunction.options.setup(), dataObj.data);\n                    templateFunction.options.setup = function (__props) {\n                        return variables;\n                    };\n                }\n                var templateVue = new templateFunction(dataObj);\n                // let templateVue = new Vue(tempObj.template);\n                // templateVue.$data.data = extend(tempObj.data, data);\n                templateVue.$mount(\"#\" + id);\n                returnEle = ele.childNodes;\n                if (context.vueInstance) {\n                    var templateInstance = context.vueInstance.templateCollection;\n                    if (!templateInstance) {\n                        context.vueInstance.templateCollection = {};\n                        templateInstance = context.vueInstance.templateCollection;\n                    }\n                    if (propName) {\n                        if (!templateInstance[\"\" + propName]) {\n                            templateInstance[\"\" + propName] = [];\n                        }\n                        templateInstance[\"\" + propName].push(returnEle[0]);\n                    }\n                }\n                detach(ele);\n            }\n        }\n        return returnEle || [];\n    };\n}\nsetTemplateEngine({ compile: compile });\nfunction getValues(app, cInstance, root) {\n    var vueInstance = cInstance ? cInstance : ((root && root.vueInstance) ? root.vueInstance : null);\n    if (!vueInstance) {\n        return;\n    }\n    // Get globally defined variables.\n    app['appContext'] = vueInstance['$']['appContext'];\n    // Get provide value from child component.\n    var provided = {};\n    var getProvideValue = function (vueinstance) {\n        if (vueinstance['$'] && vueinstance['$']['parent'])\n            getProvideValue(vueinstance.$.parent);\n        if (vueinstance['provides'] && Object.keys(vueinstance['provides']).length > 0) {\n            provided = __assign({}, provided, vueinstance.provides);\n        }\n    };\n    getProvideValue(vueInstance);\n    if (app['appContext']['provides']) {\n        app.appContext.provides = __assign({}, app.appContext.provides, provided);\n    }\n}\n// Get the Vue2 slot template from the root or current Vue component.\nfunction getVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var instance = (root && root.vueInstance) ? root.vueInstance : vueInstance;\n    return getVueChildSlot(instance, templateElement);\n}\nfunction getVueChildSlot(vueInstance, templateElement) {\n    if (!vueInstance) {\n        return undefined;\n    }\n    var slots = vueInstance.$slots;\n    var scopedSlots = vueInstance.$scopedSlots;\n    var vSlots = vueInstance.scopedSlots;\n    var children = vueInstance.children;\n    if (scopedSlots && scopedSlots[\"\" + templateElement]) {\n        return scopedSlots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default;\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getVueChildSlot(getSlot(childSlots[parseInt(i.toString(), 10)]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    else if (vSlots && vSlots[\"\" + templateElement]) {\n        return vSlots;\n    }\n    else if (children) {\n        for (var i = 0; i < children.length; i++) {\n            var slot = getVueChildSlot(getSlot(children[parseInt(i.toString(), 10)]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\nfunction getSlot(vnode) {\n    var slot = (vnode.componentOptions && vnode.componentOptions.children) ? vnode.componentOptions :\n        (!vnode.data && (vnode.tag === 'e-markersettings' || vnode.tag === 'e-markersetting')) ? vnode : vnode.data;\n    return vnode.componentInstance ? vnode.componentInstance : slot;\n}\n// Get the Vue3 slot template from the root or current Vue component.\nfunction getCurrentVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var slots = (root && root.vueInstance) ? root.vueInstance.$slots : vueInstance.$slots;\n    return getChildVueSlot(slots, templateElement);\n}\nfunction getChildVueSlot(slots, templateElement) {\n    if (slots && slots[\"\" + templateElement]) {\n        return slots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default();\n        childSlots = childSlots.flatMap(function (item) { return Array.isArray(item.children) ? item.children : item; });\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getChildVueSlot(childSlots[parseInt(i.toString(), 10)].children, templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\n"],"names":["getProps","options","props","_i","_a","length","prop","newprops","watch","newVal","this","ej2Instances","dataBind","name","compile","templateElement","helper","that","data","context","propName","element","root","returnEle","plugins","vueInstance","pid","getUniqueID","id","ele","createElement","innerHTML","document","body","appendChild","isExecute","prototype","CSPTemplate","vueSlot_1","getCurrentVueSlot","detach","stringCompiler","app","Vue","createVNode","render","getValues","childNodes","vueSlot_2","getVueSlot","provided_1","getProvideValues_1","vueinstance","$parent","Object","keys","__assign","_provided","provide","$mount","tempObj","call","templateFunction","template","propsData","getValue","dataObj","extend","parent","extends","setup","variables","assign","__props","templateInstance","templateCollection","push","object","dataObj_1","templateCompRef","_context","components","key","tempRef_1","expose","objkeys_1","objstring","intComponent","__data","proxy","__expose","__returned__","defineProperty","enumerable","value","cInstance","provided","getProvideValue","$","provides","appContext","getVueChildSlot","slots","$slots","scopedSlots","$scopedSlots","vSlots","children","default","childSlots","i","slot","getSlot","parseInt","toString","vnode","componentOptions","tag","componentInstance","getChildVueSlot","flatMap","item","Array","isArray","curVue","obj","__esModule","newObj","hasOwnProperty","aVue","gh","vueDefineComponent","ComponentBase","tagMapper","tagNameMapper","hasInjectedModules","hasChildDirective","childDirObjects","propKeys","isDecorator","created","_this","ej2Instance","isVue3","toRaw","this_1","addEventListener","args","$emit","injectables","vueInjectables","isNullOrUndefined","prevModule","managed","getInjectedServices","getModuleName","_b","curModule_1","getInjectedModules","mod","indexOf","injectedModules","mounted","cusEle","$el","querySelectorAll","parentElement","removeChild","isVue","referModels","models","setModelValue","appendTo","updated","beforeDestroy","destroyComponent","beforeUnmount","methods","modelValue","$attrs","propKey","match","childKey","fetchChildPropValues","curChildDir","JSON","stringify","assignValueToWrapper","ret","$root","$vnode","provideKey","provideValue","j","$options","tempBeforeDestroyThis","destroy","style","visibility","bindProperties","curModule_2","option","silent","setProperties","childOption","dirProps","propRef","type","getTag","replace","ref","resolveArrayDirectives","splitKeys","split","controlName","toLowerCase","keyRef","getDirectiveValues","dirProp","tagName","innerDirValues","items","this_2","slot_1","childSlot","tagRef","resolveComplexDirs","forEach","e","toUpperCase","test","tagObject","this_3","slot_2","find","moduleName","resolveComplexInnerDirs","getCamelCaseProps","slot_3","isRibbon","resolveMultilevelComplexInnerDirs","slot_4","tagDirectives","keyTags","dir","tagDirectives_1","tagDirective","dirTag","children_1","tagDirChild","retObj","getVNodeValue","getMultiLevelDirValue","tagDirectories","tagKey","mulObj","tagDirectories_1","tagDir","children_2","mulLevObj","attrs","retProps","arg","muteOnChange","t","s","n","arguments","p","apply","getTemplateEngine","setTemplateEngine"],"mappings":"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"}